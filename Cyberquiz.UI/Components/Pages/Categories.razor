@using Cyberquiz.Shared.DTOs
@using Cyberquiz.UI.Components.Pages.Components
@using Cyberquiz.UI.Services
@inject NavigationManager Nav
@inject ApiService ApiService
<h3>Categories</h3>

<h2>Välj en kategori</h2>
<CategoryList Categories="categories" OnCategorySelected="GoToSubCategory" />

@code {
    private List<CategoryDto> categories;

    protected override async Task OnInitializedAsync()
    {
         categories = await ApiService.GetCategoriesAsync();
    }

    private void GoToSubCategory(int categoryId)
    {
        Nav.NavigateTo($"/categories/{categoryId}/subcategories");
    }

}
